<div class="row">
	<div class="col-sm-6">
		<div class="well">
			<h3 class="margin-top-0">
				<i class="fa fa-stack-overflow"></i>
				{{vm.compositeField.label}}
				<small>{{vm.compositeField.description}}</small>
			</h3>

			<hr/>

			<form id="fieldTemplate" neo-validate novalidate>
				<!-- RECURSIVE_FIELD_TREE -->
				<!-- WARNING! Magic happens here! -->
				<script type="text/ng-template" id="docsFieldLevel">
					<docs-field field="field" container="vm.compositeField"></docs-field>

					<div ng-if="field.composite.length">
						<div>
							<strong>{{field.label}}</strong>

							<div class="pull-right display-block">
								<a href-void class="drag-handle">
									<i class="fa fa-fw fa-arrows text-muted" hover-class="text-primary"></i>
								</a>
								<a href-void ng-click="vm.deleteField(field)">
									<i class="fa fa-fw fa-trash-o text-muted" hover-class="text-danger"></i>
								</a>
							</div>
							<hr class="margin-top-5"/>
						</div>

						<div ng-repeat="field in field.composite track by $index"
								 ng-include="'docsFieldLevel'"></div>
					</div>

				</script>

				<ul ui-sortable="vm.sortableOptions"
						ng-model="vm.compositeField.composite"
						class="no-padding list-unstyled">
					<li ng-repeat="field in vm.compositeField.composite"
							ng-include="'docsFieldLevel'">
					</li>
				</ul>

				<!-- end:RECURSIVE_FIELD_TREE -->
			</form>

			<div class="row">
				<div class="col-sm-12">
					<div class="text-center">
						<docs-add-field container="vm.compositeField"></docs-add-field>
						<docs-add-composite-field container="vm.compositeField"></docs-add-composite-field>
					</div>
				</div>
			</div>
		</div>
	</div>


	<div class="col-sm-3">
		<div class="well">
			<h3 class="margin-top-0">
				<i class="fa fa-empire"></i>
				Template properties
			</h3>

			<hr/>

			<fieldset>
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label>Name:</label>
							<input type="text"
										 class="form-control input-sm"
										 ng-model="vm.compositeField.label"/>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label>Description:</label>
					<textarea class="form-control"
										rows="3"
										ng-model="vm.compositeField.description"
										style="resize: none;">
					</textarea>
						</div>
					</div>
				</div>
			</fieldset>

			<div class="form-actions">
				<div class="row">
					<div class="col-md-12">
						<button class="btn btn-primary" type="button" ng-click="vm.save()">
							<i class="fa fa-save"></i> Save
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
